<button type="button" class="btn btn-info btn-sm" data-toggle="modal" data-target="#myModal">Create task</button>


<div id="myModal" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <form #form (ngSubmit)="Submit($event)" ngNativeValidate>
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Create task</h4>
      </div>
      <div class="modal-body">
          <div class="form-group">
            <label for="username">Username</label>
            <input name="username" [(ngModel)]="formForCreateTask.username" type="text" class="form-control" id="username" placeholder="Enter username" required>
          </div>
          <div class="form-group">
            <label for="email">Email</label>
            <input name="email" [(ngModel)]="formForCreateTask.email" type="email" class="form-control" id="email" placeholder="Enter email" required>
          </div>
          <div class="form-group">
            <label for="description">Description</label>
            <textarea name="text" [(ngModel)]="formForCreateTask.text" id="description" class="form-control" rows="5" required></textarea>
          </div>
          <div class="form-group">
            <label for="image">Image</label>
            <input  type="file" (change)="changeFile($event)" name="image" id="image" accept="image/x-png,image/gif,image/jpeg" required />
          </div>


          <div *ngIf="preview" class="task">
            <div class="my-row">
              <div class="userName">
                <label>Username:</label>
                <div class="name">{{formForCreateTask.username}}</div>
              </div>
              <div class="mini-description">
                <label>Description:</label>
                <div class="description">{{formForCreateTask.text}}</div>
              </div>
            </div>
            <div class="my-row">
              <div class="userEmail">
                <label>Email:</label>
                <div class="name">{{formForCreateTask.email}}</div>
              </div>
              <div class="showMore">
                <button class="btn btn-primary btn-sm collapsed" type="button" data-toggle="collapse" [attr.data-target]="'#collapseExample' + i" aria-expanded="false" aria-controls="collapseExample">
            <span class="show-ctrl">
                  Show more
              </span>
                  <span class="hide-ctrl">
                  Hide more
              </span>
                </button>
              </div>
            </div>
            <div class="my-row">
              <div class="taskState">
                <label>Status:</label>
                <select class="form-control" name="" id="">
                  <option value="0">Open</option>
                  <option value="10">Close</option>
                </select>
              </div>
            </div>
            <div class="collapse details" [id]="'collapseExample' + i">
              <div class="description">
                <label>Description</label>
                <div>
                  {{formForCreateTask.text}}
                </div>
              </div>
              <div class="image">
                <img [src]="imageForPreview || ''" alt="">
              </div>
            </div>
          </div>
      </div>
      <div class="modal-footer">
        <button type="submit" class="btn btn-primary">Create</button>
        <button (click)="preview = !preview" type="button" class="btn btn-default">Preview</button>
        <button (click)="form.reset();image = undefined;" type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
    </form>

  </div>
</div>
